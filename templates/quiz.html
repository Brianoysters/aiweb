{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <div class="card">
        <div class="card-header bg-primary text-white">
            <h2 class="mb-0">Final Assessment</h2>
        </div>
        <div class="card-body">
            {% if not all_modules_completed %}
            <div class="alert alert-warning">
                <h4>Incomplete Course</h4>
                <p>Please complete all previous modules before attempting the final assessment.</p>
                <a href="{{ url_for('course', course_id=1) }}" class="btn btn-primary">Return to Course</a>
            </div>
            {% elif next_attempt_available %}
            <div class="alert alert-info">
                <h4>Next Attempt Available</h4>
                <p>Your next attempt will be available on: {{ next_attempt_available.strftime('%B %d, %Y at %I:%M %p') }}</p>
            </div>
            {% else %}
            <div class="quiz-instructions mb-4">
                <h4>Instructions:</h4>
                <ul>
                    <li>This quiz consists of 10 multiple-choice questions</li>
                    <li>You need to score 80% or higher to pass</li>
                    <li>You have 2 attempts per day</li>
                    <li>There is a 12-hour cooldown period between attempts</li>
                    <li>Once you start, you must complete the quiz</li>
                </ul>
            </div>

            <form method="POST" action="{{ url_for('submit_quiz') }}" id="quizForm">
                <div class="quiz-questions">
                    <div class="question mb-4">
                        <h5>1. What is the primary goal of Artificial Intelligence?</h5>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q1" id="q1a" value="a" required>
                            <label class="form-check-label" for="q1a">To create machines that can think and act like humans</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q1" id="q1b" value="b">
                            <label class="form-check-label" for="q1b">To replace human workers with machines</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q1" id="q1c" value="c">
                            <label class="form-check-label" for="q1c">To make computers faster</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q1" id="q1d" value="d">
                            <label class="form-check-label" for="q1d">To create video games</label>
                        </div>
                    </div>

                    <div class="question mb-4">
                        <h5>2. What is Machine Learning?</h5>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q2" id="q2a" value="a" required>
                            <label class="form-check-label" for="q2a">A subset of AI that enables systems to learn from data</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q2" id="q2b" value="b">
                            <label class="form-check-label" for="q2b">A type of computer hardware</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q2" id="q2c" value="c">
                            <label class="form-check-label" for="q2c">A programming language</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q2" id="q2d" value="d">
                            <label class="form-check-label" for="q2d">A type of database</label>
                        </div>
                    </div>

                    <!-- Add more questions here -->
                    <!-- Questions 3-10 would follow the same pattern -->

                </div>

                <div class="text-center mt-4">
                    <button type="submit" class="btn btn-primary btn-lg">Submit Quiz</button>
                </div>
            </form>
            {% endif %}
        </div>
    </div>
</div>

<script>
document.getElementById('quizForm').addEventListener('submit', function(e) {
    if (!confirm('Are you sure you want to submit your answers? You cannot change them after submission.')) {
        e.preventDefault();
    }
});
</script>
{% endblock %}
